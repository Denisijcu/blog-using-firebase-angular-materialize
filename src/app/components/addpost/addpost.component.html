<div class="container">
  <div class="row">
    <div class="col s12">
      <br>
      <em>Add New Post</em>
      <br>
      <br>
      <br>
      <form #postForm="ngForm"  (ngSubmit)="onSubmit()" appIdentityRevealed>

        <div [hidden]="postForm.submitted">

          <div
            class="cross-validation"
            [class.cross-validation-error]="
              postForm.errors?.identityRevealed &&
              (postForm.touched || postForm.dirty)
            "
          >

          <div class="form-group">
            <img [src]="imgSrc" width="350px" height="250px"/>
          </div>
            <div class="form-group">
              <label for="title">Title</label>
              <input
                id="title"
                name="title"
                class="form-control"
                required
                minlength="10"
                [(ngModel)]="post.title"
                #title="ngModel"
              />

              <div
                *ngIf="title.invalid && (title.dirty || title.touched)"
                class="alert alert-danger"
              >
                <div *ngIf="title.errors.required">
                  Title is required.
                </div>
                <div *ngIf="title.errors.minlength">
                  Title must be at least 4 characters long.
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="content">Content</label>
              <input
                id="content"
                class="form-control"
                name="content"
                #content="ngModel"
                [(ngModel)]="post.content"
              />
            </div>


            <div class="form-group">
              <label for="photo">Photo</label>
              <input type="file" #fileUploader  (change)="handleFiles($event)" [(ngModel)]="url" name="photo">
            </div>

            <div class="form-group">
               <br>
               <hr>
            </div>
      
    



            <div
              *ngIf="
                postForm.errors?.identityRevealed &&
                (postForm.touched || postForm.dirty)
              "
              class="cross-validation-error-message alert alert-danger"
            >
              Title
            </div>
          </div>

          <button
            type="submit"
            class="btn btn-default"
            [disabled]="postForm.invalid"
            
          >
            Submit
          </button>
          <button
            type="button"
            class="btn btn-default"
            (click)="postForm.resetForm({})"
          >
            Reset
          </button>
        </div>



       



        <div class="submitted-message" *ngIf="postForm.submitted">
          <p>You've submitted your a new post, {{ postForm.value.title }}!</p>
          <button (click)="postForm.resetForm({})">Add new post</button>
        </div>
      </form>
    </div>
  </div>
</div>
